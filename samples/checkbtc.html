<!DOCTYPE html>
<html><head>
<meta charset="UTF-8">	
<title>checked btc input</title>
<style>
*{box-sizing:border-box;}
body{}

		
#dropBtc{
position:absolute;
background:silver;
display:block;
z-index:1;
margin-top:3px;
height:auto;width:50%;	
border:2px solid brown;
}

#dropcheck:checked ~ #dropBtc{display:block;z-index:1;}
.btclab{display:block;position:relative;border:2px solid black;margin-top:3px;text-align:center;}


.bla{color:red;
border:0.1em solid black;
display:inline-block;
width:52px;height:56px;	
text-align:center;
margin-top:3px;
margin-bottom:3px;
padding-top:13px;
vertical-align:middle;
font-size:20px;
cursor:pointer;
}
#dropBtc::selection,.bla::selection,#spanout::selection,label[for=dropcheck]::selection, 
.blaReset::selection, .blaBackspace::selection, .btclab::selection, button::selection{background:none;}
table{
border:1px solid green;
}
td{
border:1px solid black;
width:30px;
max-width:30px;
min-height:30px;
overflow:hidden;
height:30px;
font-size:21px;
text-align:center;
font-weight:bold;
}

hr{height:6px;background:black;}

td div{
display:block;
/*background:lightblue;*/
width:28px;height:28px;
/*transform:translateY(13px)	rotate(45deg) scale(2,1.1);*/
transform:translateY(29px);
transition:translate 4s;
}
td div.boo{
/*transform:translateY(0);*/


animation-name:example;
animation-duration:0.4s;
animation-duration-count:1;
animation-fill-mode:both;	
}

@keyframes example{
	/*
from{transform:translateY(29px);}
to{transform:translateY(1px);}	
*/
0%{transform:translateY(29px);}
25%{transform:translateY(-20px);}
50%{transform:translateY(20px);}
75%{transform:translateY(-5px);}
100%{transform:translateY(1px);}
}


@keyframes example2{
/*
from{transform:translateY(1px);}
to{transform:translateY(-12px);}	
*/

0%{transform:translateY(1px);}
25%{transform:translateY(-4px);}
50%{transform:translateY(8px);}
75%{transform:translateY(6px);}
100%{transform:translateY(-29px);}
}

td div.boo.pissoff{
color:red;
animation-name:example2;
animation-duration:0.2s;
animation-duration-count:1;
animation-fill-mode:backwards;
}

.me{display:inline-block;background:pink;border:2px solid yellow; width:50%;height:50px;}

.treg{
display:block;
position:relative;
width:22px;
/*margin:0 auto;*/
height:0;
border-top:10px solid transparent;
border-right:15px solid rgba(122,2,122,0.4);
border-bottom:10px solid transparent;

}

.treg:after{
content:"";
position:absolute;
height:8px;
width:14px;
top:-4px;
left:22px;
background:rgba(122,2,122,0.4);	

}
.resetting{
display:block;
position:relative;
margin-top:3px;
border:2px solid green;
height:110px;
}

.blaReset,.blaBackspace{
display:block;
position:absolute;
text-align:center;
adding:2px 4px 8px 20px;	
height:auto;
vertical-align:bottom;
font-size:20px;
line-height:1.2;
padding:6px 9px 9px 9px;
margin:6px 5px 0 5px;
/* top right bottom left*/
}
.blaReset{
top:0;
left:0;
border:1px solid red;	
}
.blaBackspace{
top:0;
right:0;
border:1px solid orange;	
}

/*
.treg:before{
position:absolute;
top:13px;
left:2px;
color:black;
content:"backspace";
font-weight:bold;
font-size:0.7em;	
letter-spacing:0.1em;
}*/


.resi{
display:block;

position:relative;
width:40px;
height:40px;
border-radius:50%;
border:4px solid green;	
ransform:rotate(1deg);
margin:16px auto;
}
.resi:before{
content:"";
position:absolute;
top:-11px;
left:10px;
/*left:0.231em;*/
width:4px;
height:26px;
background:green;
border-left:0.25em solid silver;
border-right:0.25em solid silver;	
}
/*
.resi:after{
content:"reset";
position:absolute;
top:36px;
right:-6px;
color:black;
font-size:1.em;
letter-spacing:0.1em;
font-weight:bold;	
}*/
</style>
</head>
<body>
<label for="dropcheck">menu</label><input id="dropcheck" type="checkbox" value="7"/>
<table id="tableBtcAmount">
<caption style="background:pink;">cap</caption>
<td><div data-zid="1"></div></td>
<td><div data-zid="2"></div></td>
<td><div data-zid="3"></div></td>
<td><div data-zid="4"></div></td>
<td><div data-zid="5"></div></td>
<td><div data-zid="6"></div></td>
<td><div data-zid="7"></div></td>
<td><div data-zid="9"></div></td>
<td><div data-zid="10"></div></td>
<td><div data-zid="11"></div></td>
<td><div data-zid="12"></div></td>
<tfoot style="background:red;"><td colspan="10"><span id="spanout"></span></td></tfoot>
</table>

<div id="dropBtc">
<div class="btclab">
<label class="bla" onclick="show_z(this);">0</label>
<label class="bla" onclick="show_z(this);">1</label>
<label class="bla" onclick="show_z(this);">2</label>
<label class="bla" onclick="show_z(this);">3</label>
<label class="bla" onclick="show_z(this);">4</label>
<label class="bla" onclick="show_z(this);">5</label>
<label class="bla" onclick="show_z(this);">6</label>
<label class="bla" onclick="show_z(this);">7</label>
<label class="bla" onclick="show_z(this);">8</label>
<label class="bla" onclick="show_z(this);">9</label>
<label class="bla" onclick="show_z(this);">.</label>
</div>

<div class="resetting">
<label class="blaReset" title="reset" onclick="show_reset(this);">clear</label>
<!-- <label class="blaMiddle">middle</label> -->
<label class="blaBackspace" title="backspace" onclick="show_b(this);">back</label>
</div>

<!--
<table><td><div data-id="suka" class="">1</div></td><td><div>2</div></td><td><div>3</div></td><td><div>4</div></td><td><div>5</div></td><td><div>6</div></td><td><div>7</div></td><td><div>8</div></td></table>
-->
<!--
<button onclick="check();">is number?</button><button onclick="boo();">boo</button>
<button onclick="booreset();">boo reset</button> -->
</div> 
<div>noch div</div>
<!-- <table><td><div data-id="suka">1</div></td><td><div>2</div>
</td><td><div>3</div></td><td><div>4</div></td><td><div>5</div></td><td>
<div>6</div></td><td><div>7</div></td><td><div>8</div></td></table> -->

<button onclick="gimme();">gimme</button>
<button onclick="putme();">putme</button>
<button onclick="clearme();">clearme</button>
<hr>
<button onclick="A(this);" value="a">a</button>
<button onclick="A(this);" value="ab">ab</button>
<button onclick="A(this);" value="abc">abc</button>
<button onclick="A(this);" value="abcd">abcd</button>
<button onclick="boo();">boo</button>
<button onclick="booreset();">boo reset</button>
<style>
#conti{border:1px solid green;display:block;position:relative;height:auto;margin-top:5px;}
.cziff{display:inline-block;border:1px solid red;position:relative;height:30px;width:30px;margin:2px;
	text-align:center;
	vertical-align:bottom;
	overflow:hidden;
	}
.ziff{
display:block;border:1px solid blue;position:absolute;top:0px;left:-1px;width:30px;

font-weight:600;font-size:23px;
}
.ziff span{vertical-align:middle;}
</style>
<div id="conti"><div class="cziff">
<div class="ziff">0</div></div><div class="cziff"><div class="ziff">1</div></div>
</div>
<script>
var cl_del_zif = "pissoff";
var cl_ins_zif = "boo";
var max_cells = 11;
var spanout=gid("spanout");
var is_max = false;
var fake_max = 300;
var fake_num = 300.0001;
var tdel = eltag("td");

for(var i=0;i<tdel.length;i++){
tdel[i].addEventListener('animationend', on_btc_ziffer, false);
}



function on_btc_ziffer(ev){
if(!ev.animationName){alert("ev.animationName [animationend] doesn't work in this browser?");return;}
if(ev.animationName=="example2"){
ev.target.textContent="";
class_remove(ev.target, cl_del_zif);
class_remove(ev.target, cl_ins_zif);
}
}
function booreset(){
for(var i=0;i<tdel.length;i++){
if(tdel[i] && tdel[i].firstChild){
class_adi(tdel[i].firstChild, cl_del_zif);
}
}
}


function ins_zif(s,i){
if(tdel[i] && tdel[i].firstChild){
class_adi(tdel[i].firstChild, cl_ins_zif);
tdel[i].firstChild.textContent=s;
}
}

function del_all_zif(){
for(var i=0;i<tdel.length;i++){
if(tdel[i] && tdel[i].firstChild){
if(tdel[i].firstChild.textContent)class_adi(tdel[i].firstChild, cl_del_zif);
}}	
}



function del_zif(index){
if(tdel[index] && tdel[index].firstChild){
class_adi(tdel[index].firstChild, cl_del_zif);
}	
}

spanout.textContent="";
var t=0;
function show_z(el){
if(el.textContent=="."){
t+=1;
//if(t>=2)return;
if(is_max)return;
}
var lenis=spanout.textContent.length;
if(lenis >= max_cells){alert("kuda?");return;}

spanout.textContent+=el.textContent;
//ins_zif(el.textContent,spanout.textContent.length-1);
//if(spanout.textContent.length>0){

var num=fetch_number(spanout.textContent);
console.log('num: ',num);

if(isNaN(num)){
spanout.textContent="";
del_all_zif();
t=0;
return;	
}
if(num > fake_max){
is_max=true;
spanout.textContent=fake_max;
}
ins_zif(el.textContent,spanout.textContent.length-1);
if(num>fake_max){
var nh=fake_max.toString();
for(var i=0;i<nh.length;i++){
tdel[i].firstChild.textContent=nh[i];	
}
}

}
function show_b(el){
var a=spanout.textContent;
var b=a.slice(0,-1);
spanout.textContent=b;
del_zif(a.length-1);
is_max=false;
}
function show_reset(el){
if(!spanout.textContent){alert("Nothing to reset!");return;}
spanout.textContent="";	
del_all_zif();
t=false;
is_max=false;
}

function check(){
console.log(Number(spanout.textContent))	
}
function fetch_number(str){
try{
var anum_s=Number(str);	
return anum_s;
}catch(er){alert(er);return undefined;}
}
function gid(id){
return document.getElementById(id);	
}

function eltag(td){
return dom_tagi("tableBtcAmount", td);	
}

function eltagi(str){
return document.getElementsByTagName(str);	
}

function dom_tagi(id,s){
var el_n=gid(id);
if(!el_n)return null;
var el_nu=el_n.getElementsByTagName(s);
if(!el_nu)return null;
return el_nu;	
}
function class_adi(node,clas){
if(!node){alert("wrong node el in class_adi()?");console.error("wrong node el?");return;}
if(node.classList){node.classList.add(clas);}	
}

function class_remove(node,clas){
if(!node){alert("wrong node el in class_remove()?");console.error("wrong node el?");return;}
if(!node.classList){console.error("no classList in el?");return;}
node.classList.remove(clas);
}
</script>
</body>
</html>
